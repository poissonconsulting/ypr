<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started with ypr • ypr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started with ypr">
<meta property="og:description" content="ypr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ypr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ypr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/poissonconsulting/ypr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started with ypr</h1>
                        <h4 class="author">Joe Thorley</h4>
            
            <h4 class="date">2020-05-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/poissonconsulting/ypr/blob/master/vignettes/ypr.Rmd"><code>vignettes/ypr.Rmd</code></a></small>
      <div class="hidden name"><code>ypr.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<blockquote>
<p>Fish are born, they grow, they reproduce and they die – whether from natural causes or from fishing. That’s it. Modelers just use complicated (or not so complicated) math to iron out the details. <span class="citation">Cooper (2006)</span></p>
</blockquote>
<p>Equilibrium based yield per recruit (YPR) methods <span class="citation">(Walters and Martell 2004)</span> estimate the capture rate that optimizes the yield under the assumption that there is no stochasticity and all density-dependence is captured by the stock-recruitment relationship. The remaining population processes of growth, reproduction and death are captured through a series of relatively straight-forward deterministic equations.</p>
<table class="table">
<caption>Table 1. The 31 parameters with their default values and descriptions.</caption>
<thead><tr class="header">
<th align="left">Parameter</th>
<th align="right">Value</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">tmax</td>
<td align="right">20.00</td>
<td align="left">The maximum age (yr).</td>
</tr>
<tr class="even">
<td align="left">k</td>
<td align="right">0.15</td>
<td align="left">The VB growth coefficient (yr-1).</td>
</tr>
<tr class="odd">
<td align="left">Linf</td>
<td align="right">100.00</td>
<td align="left">The VB mean maximum length (cm).</td>
</tr>
<tr class="even">
<td align="left">t0</td>
<td align="right">0.00</td>
<td align="left">The (theoretical) age at zero length (yr).</td>
</tr>
<tr class="odd">
<td align="left">k2</td>
<td align="right">0.15</td>
<td align="left">The VB growth coefficient after length L2 (yr-1).</td>
</tr>
<tr class="even">
<td align="left">Linf2</td>
<td align="right">100.00</td>
<td align="left">The VB mean maximum length after length L2 (cm).</td>
</tr>
<tr class="odd">
<td align="left">L2</td>
<td align="right">1000.00</td>
<td align="left">The length (or age if negative) at which growth switches from the first to second phase (cm or yr).</td>
</tr>
<tr class="even">
<td align="left">Wb</td>
<td align="right">3.00</td>
<td align="left">The weight (as a function of length) scaling exponent.</td>
</tr>
<tr class="odd">
<td align="left">Ls</td>
<td align="right">50.00</td>
<td align="left">The length (or age if negative) at which 50 % mature (cm or yr).</td>
</tr>
<tr class="even">
<td align="left">Sp</td>
<td align="right">100.00</td>
<td align="left">The maturity (as a function of length) power.</td>
</tr>
<tr class="odd">
<td align="left">es</td>
<td align="right">1.00</td>
<td align="left">The annual probability of a mature fish spawning.</td>
</tr>
<tr class="even">
<td align="left">Sm</td>
<td align="right">0.00</td>
<td align="left">The spawning mortality probability.</td>
</tr>
<tr class="odd">
<td align="left">fb</td>
<td align="right">1.00</td>
<td align="left">The fecundity (as a function of weight) scaling exponent.</td>
</tr>
<tr class="even">
<td align="left">tR</td>
<td align="right">1.00</td>
<td align="left">The age from which survival is density-independent (yr).</td>
</tr>
<tr class="odd">
<td align="left">BH</td>
<td align="right">1.00</td>
<td align="left">Recruitment follows a Beverton-Holt (1) or Ricker (0) relationship.</td>
</tr>
<tr class="even">
<td align="left">Rk</td>
<td align="right">3.00</td>
<td align="left">The lifetime spawners per spawner at low density.</td>
</tr>
<tr class="odd">
<td align="left">n</td>
<td align="right">0.20</td>
<td align="left">The annual interval natural mortality rate from age tR.</td>
</tr>
<tr class="even">
<td align="left">nL</td>
<td align="right">0.20</td>
<td align="left">The annual interval natural mortality rate from length Ln.</td>
</tr>
<tr class="odd">
<td align="left">Ln</td>
<td align="right">1000.00</td>
<td align="left">The length (or age if negative) at which the natural mortality rate switches from n to nL (cm or yr).</td>
</tr>
<tr class="even">
<td align="left">Lv</td>
<td align="right">50.00</td>
<td align="left">The length (or age if negative) at which 50 % vulnerable to harvest (cm or yr).</td>
</tr>
<tr class="odd">
<td align="left">Vp</td>
<td align="right">100.00</td>
<td align="left">The vulnerability to harvest (as a function of length) power.</td>
</tr>
<tr class="even">
<td align="left">Llo</td>
<td align="right">0.00</td>
<td align="left">The lower harvest slot length (cm).</td>
</tr>
<tr class="odd">
<td align="left">Lup</td>
<td align="right">1000.00</td>
<td align="left">The upper harvest slot length (cm).</td>
</tr>
<tr class="even">
<td align="left">Nc</td>
<td align="right">0.00</td>
<td align="left">The slot limits non-compliance probability.</td>
</tr>
<tr class="odd">
<td align="left">pi</td>
<td align="right">0.20</td>
<td align="left">The annual capture probability.</td>
</tr>
<tr class="even">
<td align="left">rho</td>
<td align="right">0.00</td>
<td align="left">The release probability.</td>
</tr>
<tr class="odd">
<td align="left">Hm</td>
<td align="right">0.00</td>
<td align="left">The hooking mortality probability.</td>
</tr>
<tr class="even">
<td align="left">Rmax</td>
<td align="right">1.00</td>
<td align="left">The number of recruits at the carrying capacity (ind).</td>
</tr>
<tr class="odd">
<td align="left">Wa</td>
<td align="right">0.01</td>
<td align="left">The (extrapolated) weight of a 1 cm individual (g).</td>
</tr>
<tr class="even">
<td align="left">fa</td>
<td align="right">1.00</td>
<td align="left">The (theoretical) fecundity of a 1 g female (eggs).</td>
</tr>
<tr class="odd">
<td align="left">q</td>
<td align="right">0.10</td>
<td align="left">The catchability (annual probability of capture) for a unit of effort.</td>
</tr>
</tbody>
</table>
</div>
<div id="growth" class="section level2">
<h2 class="hasAnchor">
<a href="#growth" class="anchor"></a>Growth</h2>
<div id="length" class="section level3">
<h3 class="hasAnchor">
<a href="#length" class="anchor"></a>Length</h3>
<p>In <code>ypr</code> length (in cm) at age (<span class="math inline">\(t\)</span>) is assumed to follow a Von Bertalanffy growth curve</p>
<p><span class="math display">\[L = L_{\infty} \cdot (1 - \exp(-k \cdot (t-t_0)))\]</span></p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population.html">ypr_population</a></span>()
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Age"</span>, <span class="st">"Length"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-2-1.png" width="384"></p>
<p>which can be biphasic</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">L2</span> <span class="kw">=</span> <span class="fl">75</span>, <span class="kw">Linf2</span> <span class="kw">=</span> <span class="fl">200</span>), <span class="st">"Age"</span>, <span class="st">"Length"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-3-1.png" width="384"></p>
</div>
<div id="weight" class="section level3">
<h3 class="hasAnchor">
<a href="#weight" class="anchor"></a>Weight</h3>
<p>The weight (<span class="math inline">\(W\)</span>) at a given length is assumed to follow the classic allometric relationship</p>
<p><span class="math display">\[W = w_\alpha \cdot L^{w_\beta}\]</span></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">Wa</span> <span class="kw">=</span> <span class="fl">0.01</span>, <span class="kw">Wb</span> <span class="kw">=</span> <span class="fl">3</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"Weight"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-4-1.png" width="384"></p>
<p>Its worth noting that <span class="math inline">\(w_\alpha\)</span>, which is the extrapolated weight (g) of a 1 cm individual, is a scaling constant that only affects the estimate of the yield (when calculated in terms of the biomass), ie, it does not affect the estimate of the optimal capture rate.</p>
</div>
</div>
<div id="reproduction" class="section level2">
<h2 class="hasAnchor">
<a href="#reproduction" class="anchor"></a>Reproduction</h2>
<div id="fecundity" class="section level3">
<h3 class="hasAnchor">
<a href="#fecundity" class="anchor"></a>Fecundity</h3>
<p>The fecundity (<span class="math inline">\(F\)</span>) is assumed to scale allometrically with the weight according to the equation</p>
<p><span class="math display">\[F = f_\alpha \cdot W^{f_\beta}\]</span></p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">fa</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">fb</span> <span class="kw">=</span> <span class="fl">1</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Weight"</span>, <span class="st">"Fecundity"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-5-1.png" width="384"></p>
<p><span class="math inline">\(f_\alpha\)</span>, which is the extrapolated eggs produced by a 1 g female, is a scaling constant with no effect on the yield or optimal capture rate.</p>
</div>
<div id="spawning" class="section level3">
<h3 class="hasAnchor">
<a href="#spawning" class="anchor"></a>Spawning</h3>
<p>The probability of spawning at length <span class="math inline">\(L\)</span> is determined by the equation</p>
<p><span class="math display">\[S = \frac{L^{S_p}}{L_s^{S_p} + L^{S_p}} \cdot es\]</span></p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">Ls</span> <span class="kw">=</span> <span class="fl">50</span>, <span class="kw">Sp</span> <span class="kw">=</span> <span class="fl">10</span>, <span class="kw">es</span> <span class="kw">=</span> <span class="fl">0.8</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"Spawning"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-6-1.png" width="384"></p>
</div>
</div>
<div id="death" class="section level2">
<h2 class="hasAnchor">
<a href="#death" class="anchor"></a>Death</h2>
<div id="natural-mortality" class="section level3">
<h3 class="hasAnchor">
<a href="#natural-mortality" class="anchor"></a>Natural Mortality</h3>
<p>By default the natural annual interval mortality rate (<span class="math inline">\(n\)</span>) is assumed to be constant</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"NaturalMortality"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-7-1.png" width="384"></p>
<p>although like growth it can vary biphasically</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">nL</span> <span class="kw">=</span> <span class="fl">0.15</span>, <span class="kw">Ln</span> <span class="kw">=</span> <span class="fl">60</span>), <span class="st">"Length"</span>, <span class="st">"NaturalMortality"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-8-1.png" width="384"></p>
<p>The natural mortality rate can also be affected by spawning mortality</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">Sm</span> <span class="kw">=</span> <span class="fl">0.5</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"NaturalMortality"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-9-1.png" width="384"></p>
</div>
<div id="fishing-mortality" class="section level3">
<h3 class="hasAnchor">
<a href="#fishing-mortality" class="anchor"></a>Fishing Mortality</h3>
<p>The vulnerability to capture (<span class="math inline">\(V\)</span>) is assumed to vary by length as follows</p>
<p><span class="math display">\[V = \frac{L^{V_p}}{L_v^{V_p} + L^{V_p}}\]</span></p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">Lv</span> <span class="kw">=</span> <span class="fl">50</span>, <span class="kw">Vp</span> <span class="kw">=</span> <span class="fl">50</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"Vulnerability"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-10-1.png" width="384"></p>
<p>If <span class="math inline">\(V_p\)</span> is 100 then vulnerability is effectively knife-edged.</p>
<p>The probabilty of being retained if captured (<span class="math inline">\(R\)</span>) depends on the release rate (<span class="math inline">\(\rho\)</span>), the slot limits (<span class="math inline">\(L_{lo}\)</span> and <span class="math inline">\(L_{up}\)</span>) and the non-compliance with the limits (<span class="math inline">\(N_c\)</span>)</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">rho</span> <span class="kw">=</span> <span class="fl">0.5</span>, <span class="kw">Llo</span> <span class="kw">=</span> <span class="fl">40</span>, <span class="kw">Lup</span> <span class="kw">=</span> <span class="fl">70</span>, <span class="kw">Nc</span> <span class="kw">=</span> <span class="fl">0.1</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"Retention"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-11-1.png" width="384"></p>
<p>The fishing mortality (<span class="math inline">\(U\)</span>) depends on <span class="math inline">\(V\)</span>, <span class="math inline">\(R\)</span> and the probability of capture when fully vulnerable (<span class="math inline">\(pi\)</span>) as well as the hooking mortality (<span class="math inline">\(H_m\)</span>)</p>
<p><span class="math display">\[U =  V \cdot \pi \cdot  R +  V \cdot \pi \cdot (1 - R) \cdot H_m\]</span></p>
<p>The calculation assumes that a released fish cannot be recaught in the same year.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">pi</span> <span class="kw">=</span> <span class="fl">0.3</span>, <span class="kw">Hm</span> <span class="kw">=</span> <span class="fl">0.2</span>)
<span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Length"</span>, <span class="st">"FishingMortality"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-12-1.png" width="384"></p>
</div>
</div>
<div id="recruitment" class="section level2">
<h2 class="hasAnchor">
<a href="#recruitment" class="anchor"></a>Recruitment</h2>
<p>With growth, reproduction and death defined, the final task is to estimate the recruitment (birth) rate.</p>
<p>This requires the lifetime number of spawners per spawner at low density (<span class="math inline">\(R_k\)</span>) and the recruitment age (<span class="math inline">\(R_t\)</span>; by default 1) to be defined.</p>
<p>If recruitment follows a Beverton-Holt (<span class="math inline">\(BH = 1\)</span>) curve then</p>
<p><span class="math display">\[R = \frac{\alpha \cdot E}{(\beta \cdot E + 1)}\]</span></p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">Rk</span> <span class="kw">=</span> <span class="fl">3</span>)
<span class="fu"><a href="../reference/ypr_plot_sr.html">ypr_plot_sr</a></span>(<span class="no">population</span>, <span class="kw">plot_values</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-13-1.png" width="384"></p>
<p>where <span class="math inline">\(E\)</span> is the annual eggs (stock) and <span class="math inline">\(R\)</span> is the annual recruits at age <span class="math inline">\(R_t\)</span>.</p>
<p>With a Ricker curve (<span class="math inline">\(BH = 0\)</span>) the relationship is as follows</p>
<p><span class="math display">\[R = \alpha \cdot E \cdot \exp (-\beta \cdot E)\]</span></p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">population</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span>(<span class="no">population</span>, <span class="kw">BH</span> <span class="kw">=</span> <span class="fl">0L</span>)
<span class="fu"><a href="../reference/ypr_plot_sr.html">ypr_plot_sr</a></span>(<span class="no">population</span>, <span class="kw">plot_values</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-14-1.png" width="384"></p>
<p>The number of recruits at the carrying capacity (<span class="math inline">\(R_\text{max}\)</span>) is a scaling constant that only affects the estimate of the yield.</p>
<p>Before calculating the recruitment it is important to introduce the concept of the (unfished) survivorship (<span class="math inline">\(lx_a\)</span>) which is the probability of a recruit surviving to age <span class="math inline">\(a\)</span> in the absence of fish mortality.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span>(<span class="no">population</span>, <span class="st">"Age"</span>, <span class="st">"Survivorship"</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-15-1.png" width="384"></p>
<p>The unfished survivorship (<span class="math inline">\(lx_a\)</span>) is defined recursively by</p>
<p><span class="math display">\[lx_{R_t} = 1, lx_a = lx_{a-1} \cdot (1-N_{a-1}) \;\text{for}\; a &gt; R_t\]</span> where <span class="math inline">\(N_a\)</span> is the annual interval natural mortality at age <span class="math inline">\(a\)</span>.</p>
<p>And the fished survivorship (<span class="math inline">\(lx_a^F\)</span>) is</p>
<p><span class="math display">\[lx_{R_t}^F = 1, lx_a^F = lx_{a-1}^F \cdot (1 - (1 - N_{a-1}) \cdot (1 - U_{a-1})) \;\text{for}\; a &gt; R_t\]</span></p>
<p>The lifetime number of eggs deposited per (unfished) recruit (<span class="math inline">\(\phi\)</span>) is then just</p>
<p><span class="math display">\[\phi = \sum_{a = R_t}^{t_\text{max}} lx_a \cdot F_a/2 \cdot S_a\]</span> where <span class="math inline">\(t_\text{max}\)</span> is the maximum age considered (by default 20) and <span class="math inline">\(F_a\)</span> the fecundity at age <span class="math inline">\(a\)</span> is divided by two as the sex ratio is assumed to 1:1 and <span class="math inline">\(S_a\)</span> is the probability of spawning.</p>
<p>The fished equivalent is denoted <span class="math inline">\(\phi_F\)</span>.</p>
<p>It important to realize that at the unfished equilibrium the annual number of recruits (<span class="math inline">\(R_0\)</span>) is related to the annual egg deposition according to the following equation</p>
<p><span class="math display">\[E_0 = \phi \cdot R_0\]</span></p>
<p>By definition</p>
<p><span class="math display">\[\alpha = \frac{R_k \cdot R_0}{E_0} = \frac{R_k}{\phi}\]</span></p>
<p>The <span class="math inline">\(\beta\)</span> term of the Beverton-Holt curve can then be found by rearranging the following formula</p>
<p><span class="math display">\[R_0 = \frac{\alpha \cdot \phi \cdot R_0}{\beta \cdot \phi \cdot R_0 + 1}\]</span></p>
<p><span class="math display">\[\beta \cdot \phi \cdot R_0 + 1 = \alpha \cdot \phi\]</span></p>
<p><span class="math display">\[\beta = \frac{\alpha \cdot \phi - 1}{\phi \cdot R_0}\]</span></p>
<p>The equivalent equation for the Ricker curve is arrived at as follows</p>
<p><span class="math display">\[R_0 = \alpha \cdot \phi \cdot R_0 \cdot \exp (-\beta \cdot \phi \cdot R_0)\]</span></p>
<p><span class="math display">\[\frac{1}{\exp (-\beta \cdot \phi \cdot R_0)} = \alpha \cdot \phi\]</span></p>
<p><span class="math display">\[\beta \cdot \phi \cdot R_0 = \log(\alpha \cdot \phi)\]</span></p>
<p><span class="math display">\[\beta = \frac{\log(\alpha \cdot \phi)}{\phi \cdot R_0}\]</span></p>
<p>The number of recruits at the fished equilibrium (<span class="math inline">\(R_{0F}\)</span>) can then be found for the Beverton-Holt curve as follows</p>
<p><span class="math display">\[R_{0F} = \frac{\alpha \cdot \phi_F \cdot R_{0F}}{\beta \cdot \phi_F \cdot R_{0F} + 1}\]</span></p>
<p><span class="math display">\[\beta \cdot \phi_F \cdot R_{0F} + 1 = \alpha \cdot \phi_F\]</span> <span class="math display">\[R_{0F} = \frac{\alpha \cdot \phi_F - 1}{\beta \cdot \phi_F}\]</span></p>
<p>and for the Ricker</p>
<p><span class="math display">\[R_{0F} = \alpha \cdot \phi_F \cdot R_{0F} \cdot \exp (-\beta \cdot \phi_F \cdot R_{0F})\]</span></p>
<p><span class="math display">\[\frac{1}{\exp(-\beta \cdot \phi_F \cdot R_{0F})} = \alpha \cdot \phi_F\]</span></p>
<p><span class="math display">\[\beta \cdot \phi_F \cdot R_{0F} = \log(\alpha \cdot \phi_F)\]</span></p>
<p><span class="math display">\[R_{0F} = \frac{\log(\alpha \cdot \phi_F)}{\beta \cdot \phi_F}\]</span></p>
<p>Finally the estimates are rescaled so that the carrying capacity is identical to <span class="math inline">\(R_\text{max}\)</span> through the following transformations</p>
<p><span class="math display">\[    \beta = \beta \cdot \kappa / R_\text{max} \]</span> <span class="math display">\[    R_0 = R_0 / \kappa \cdot R_\text{max} \]</span> <span class="math display">\[    R_{0F} = R_{0F} / \kappa \cdot R_\text{max} \]</span></p>
<p>where <span class="math inline">\(\kappa\)</span>, which is the carrying capacity in the original scale, is <span class="math inline">\(\alpha/\beta\)</span> for the Beverton-Holt and <span class="math inline">\(\alpha/(\beta \cdot e)\)</span> for the Ricker curve.</p>
</div>
<div id="yield" class="section level2">
<h2 class="hasAnchor">
<a href="#yield" class="anchor"></a>Yield</h2>
<p>When the yield is simply the number of fish caught (irrespective of the weight or whether or not its harvested) then it is given by</p>
<p><span class="math display">\[Y = \sum_{a = R_t}^{t_\text{max}} R_{0F} \cdot lx_a^F \cdot \pi \cdot V_a\]</span></p>
<p>if only harvested fish are considered it becomes</p>
<p><span class="math display">\[Y = \sum_{a = R_t}^{t_\text{max}} R_{0F} \cdot lx_a^F \cdot \pi \cdot V_a \cdot R\]</span></p>
<p>and if the total weight (in kg) is important then its</p>
<p><span class="math display">\[Y = \sum_{a = R_t}^{t_\text{max}} R_{0F} \cdot lx_a^F \cdot \pi \cdot V_a \cdot R \cdot W_a/1000\]</span></p>
<p>and if only trophy fish are to be considered then its</p>
<p><span class="math display">\[Y = \sum_{a = R_t}^{t_\text{max}} \text{if}(La &lt; L_y)\ 0\ \text{else}\ R_{0F} \cdot lx_a^F \cdot \pi \cdot V_a \cdot R \cdot W_a/1000\]</span> where <span class="math inline">\(L_y\)</span> is the minimum length of a trophy fish.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_yield.html">ypr_plot_yield</a></span>(<span class="no">population</span>, <span class="kw">harvest</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">biomass</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">Ly</span> <span class="kw">=</span> <span class="fl">60</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-16-1.png" width="384"></p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_tabulate_yield.html">ypr_tabulate_yield</a></span>(<span class="no">population</span>, <span class="kw">harvest</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">biomass</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">Ly</span> <span class="kw">=</span> <span class="fl">60</span>)
<span class="co">#&gt; # A tibble: 2 x 8</span>
<span class="co">#&gt;   Type       pi     u  Yield   Age Length Weight Effort</span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1 actual  0.3   0.18  0.0505  7.39   66.8  3006.   3.39</span>
<span class="co">#&gt; 2 optimal 0.441 0.265 0.0553  7.35   66.7  2978.   5.53</span></pre></body></html></div>
</div>
<div id="efficiency" class="section level2">
<h2 class="hasAnchor">
<a href="#efficiency" class="anchor"></a>Efficiency</h2>
<p>The catchability <code>q</code> indicates the probability of capture for a unit of effort (<span class="math inline">\(E\)</span>). It is assumed to be related to <span class="math inline">\(\pi\)</span> according to the relationship <span class="math display">\[\pi = 1 - \exp(\log(1-q)\cdot E)\]</span> which can be rearranged to give <span class="math display">\[E = \frac{\log(1-\pi)}{\log(1-q)}.\]</span></p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_yield.html">ypr_plot_yield</a></span>(<span class="no">population</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Effort"</span>, <span class="kw">harvest</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">biomass</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">Ly</span> <span class="kw">=</span> <span class="fl">60</span>)</pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-17-1.png" width="384"></p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="../reference/ypr_plot_yield.html">ypr_plot_yield</a></span>(<span class="no">population</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"YPUE"</span>, <span class="kw">harvest</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">biomass</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">Ly</span> <span class="kw">=</span> <span class="fl">60</span>)
<span class="co">#&gt; Warning: Removed 1 row(s) containing missing values (geom_path).</span></pre></body></html></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-18-1.png" width="384"></p>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-cooper_guide_2006">
<p>Cooper, Andrew B. 2006. <em>A Guide to Fisheries Stock Assessment: From Data to Recommendations</em>. University of New Hampshire, Sea Grant College Program.</p>
</div>
<div id="ref-walters_fisheries_2004">
<p>Walters, Carl J., and Steven J. D. Martell. 2004. <em>Fisheries Ecology and Management</em>. Princeton, N.J: Princeton University Press.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Joe Thorley, Poisson Consulting.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
