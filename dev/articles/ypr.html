<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get Started with ypr • ypr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto_Condensed-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Playfair_Display-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><link href="../deps/KaTex-0.16.10/katex.min.css" rel="stylesheet">
<script src="../deps/KaTex-0.16.10/katex.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Started with ypr">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ypr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.6.0.9011</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/ypr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ecotypes.html">Ecotypes</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/poissonconsulting/ypr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Started with ypr</h1>
                        <h4 data-toc-skip class="author">Joe
Thorley</h4>
            
            <h4 data-toc-skip class="date">2025-01-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/poissonconsulting/ypr/blob/main/vignettes/ypr.Rmd" class="external-link"><code>vignettes/ypr.Rmd</code></a></small>
      <div class="d-none name"><code>ypr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<blockquote>
<p>Fish are born, they grow, they reproduce and they die – whether from
natural causes or from fishing. That’s it. Modelers just use complicated
(or not so complicated) math to iron out the details. <span class="citation">Cooper (2006)</span></p>
</blockquote>
<p>Equilibrium based yield per recruit (YPR) methods <span class="citation">(Walters and Martell 2004)</span> estimate the capture
rate that optimizes the yield under the assumption that there is no
stochasticity and all density-dependence is captured by the
stock-recruitment relationship. The remaining population processes of
growth, reproduction and death are captured through a series of
relatively straight-forward deterministic equations.</p>
<table class="table">
<caption>Table 1. The 32 parameters with their default values and
descriptions.</caption>
<colgroup>
<col width="7%">
<col width="5%">
<col width="86%">
</colgroup>
<thead><tr class="header">
<th align="left">Parameter</th>
<th align="right">Value</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">tmax</td>
<td align="right">20.00</td>
<td align="left">The maximum age (yr).</td>
</tr>
<tr class="even">
<td align="left">k</td>
<td align="right">0.15</td>
<td align="left">The VB growth coefficient (yr-1).</td>
</tr>
<tr class="odd">
<td align="left">Linf</td>
<td align="right">100.00</td>
<td align="left">The VB mean maximum length (cm).</td>
</tr>
<tr class="even">
<td align="left">t0</td>
<td align="right">0.00</td>
<td align="left">The (theoretical) age at zero length (yr).</td>
</tr>
<tr class="odd">
<td align="left">k2</td>
<td align="right">0.15</td>
<td align="left">The VB growth coefficient after length L2 (yr-1).</td>
</tr>
<tr class="even">
<td align="left">Linf2</td>
<td align="right">100.00</td>
<td align="left">The VB mean maximum length after length L2 (cm).</td>
</tr>
<tr class="odd">
<td align="left">L2</td>
<td align="right">1000.00</td>
<td align="left">The length (or age if negative) at which growth
switches from the first to second phase (cm or yr).</td>
</tr>
<tr class="even">
<td align="left">Wb</td>
<td align="right">3.00</td>
<td align="left">The weight (as a function of length) scaling
exponent.</td>
</tr>
<tr class="odd">
<td align="left">Ls</td>
<td align="right">50.00</td>
<td align="left">The length (or age if negative) at which 50 % mature
(cm or yr).</td>
</tr>
<tr class="even">
<td align="left">Sp</td>
<td align="right">100.00</td>
<td align="left">The maturity (as a function of length) power.</td>
</tr>
<tr class="odd">
<td align="left">es</td>
<td align="right">1.00</td>
<td align="left">The annual probability of a mature fish spawning.</td>
</tr>
<tr class="even">
<td align="left">Sm</td>
<td align="right">0.00</td>
<td align="left">The spawning mortality probability.</td>
</tr>
<tr class="odd">
<td align="left">fb</td>
<td align="right">1.00</td>
<td align="left">The fecundity (as a function of weight) scaling
exponent.</td>
</tr>
<tr class="even">
<td align="left">tR</td>
<td align="right">1.00</td>
<td align="left">The age from which survival is density-independent
(yr).</td>
</tr>
<tr class="odd">
<td align="left">BH</td>
<td align="right">1.00</td>
<td align="left">Recruitment follows a Beverton-Holt (1) or Ricker (0)
relationship.</td>
</tr>
<tr class="even">
<td align="left">Rk</td>
<td align="right">3.00</td>
<td align="left">The lifetime spawners per spawner at low density (or
the egg to tR survival if between 0 and 1).</td>
</tr>
<tr class="odd">
<td align="left">n</td>
<td align="right">0.20</td>
<td align="left">The \strong{annual interval</td>
</tr>
<tr class="even">
<td align="left">nL</td>
<td align="right">0.20</td>
<td align="left">The \strong{annual interval</td>
</tr>
<tr class="odd">
<td align="left">Ln</td>
<td align="right">1000.00</td>
<td align="left">The length (or age if negative) at which the annual
interval natural mortality rate switches from n to nL (cm or yr).</td>
</tr>
<tr class="even">
<td align="left">Lv</td>
<td align="right">50.00</td>
<td align="left">The length (or age if negative) at which 50 %
vulnerable to harvest (cm or yr).</td>
</tr>
<tr class="odd">
<td align="left">Vp</td>
<td align="right">100.00</td>
<td align="left">The vulnerability to harvest (as a function of length)
power.</td>
</tr>
<tr class="even">
<td align="left">Llo</td>
<td align="right">0.00</td>
<td align="left">The lower harvest slot length (cm).</td>
</tr>
<tr class="odd">
<td align="left">Lup</td>
<td align="right">1000.00</td>
<td align="left">The upper harvest slot length (cm).</td>
</tr>
<tr class="even">
<td align="left">Nc</td>
<td align="right">0.00</td>
<td align="left">The slot limits non-compliance probability.</td>
</tr>
<tr class="odd">
<td align="left">pi</td>
<td align="right">0.20</td>
<td align="left">The annual capture probability.</td>
</tr>
<tr class="even">
<td align="left">rho</td>
<td align="right">0.00</td>
<td align="left">The release probability.</td>
</tr>
<tr class="odd">
<td align="left">Hm</td>
<td align="right">0.00</td>
<td align="left">The hooking mortality probability.</td>
</tr>
<tr class="even">
<td align="left">Rmax</td>
<td align="right">1.00</td>
<td align="left">The number of recruits at the carrying capacity
(ind).</td>
</tr>
<tr class="odd">
<td align="left">Wa</td>
<td align="right">0.01</td>
<td align="left">The (extrapolated) weight of a 1 cm individual
(g).</td>
</tr>
<tr class="even">
<td align="left">fa</td>
<td align="right">1.00</td>
<td align="left">The (theoretical) fecundity of a 1 g female
(eggs).</td>
</tr>
<tr class="odd">
<td align="left">q</td>
<td align="right">0.10</td>
<td align="left">The catchability (annual probability of capture) for a
unit of effort.</td>
</tr>
<tr class="even">
<td align="left">RPR</td>
<td align="right">1.00</td>
<td align="left">The relative proportion of recruits that are of the
ecotype.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="growth">Growth<a class="anchor" aria-label="anchor" href="#growth"></a>
</h2>
<div class="section level3">
<h3 id="length">Length<a class="anchor" aria-label="anchor" href="#length"></a>
</h3>
<p>In <code>ypr</code> length (in cm) at age (<span class="math inline">t</span>) is assumed to follow a Von Bertalanffy
growth curve</p>
<p><span class="math display">L = L_{\infty} \cdot (1 - \exp(-k \cdot
(t-t_0)))</span></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population.html">ypr_population</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Age"</span>, <span class="st">"Length"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-2-1.png" width="384"></p>
<p>which can be biphasic</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, L2 <span class="op">=</span> <span class="fl">75</span>, Linf2 <span class="op">=</span> <span class="fl">200</span><span class="op">)</span>, <span class="st">"Age"</span>, <span class="st">"Length"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: `ypr_population_update()` was deprecated in ypr 0.5.3.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `ypr_update()` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-3-1.png" width="384"></p>
</div>
<div class="section level3">
<h3 id="weight">Weight<a class="anchor" aria-label="anchor" href="#weight"></a>
</h3>
<p>The weight (<span class="math inline">W</span>) at a given length is
assumed to follow the classic allometric relationship</p>
<p><span class="math display">W = w_\alpha \cdot L^{w_\beta}</span></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, Wa <span class="op">=</span> <span class="fl">0.01</span>, Wb <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"Weight"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-4-1.png" width="384"></p>
<p>Its worth noting that <span class="math inline">w_\alpha</span>,
which is the extrapolated weight (g) of a 1 cm individual, is a scaling
constant that only affects the estimate of the yield (when calculated in
terms of the biomass), ie, it does not affect the estimate of the
optimal capture rate.</p>
</div>
</div>
<div class="section level2">
<h2 id="reproduction">Reproduction<a class="anchor" aria-label="anchor" href="#reproduction"></a>
</h2>
<div class="section level3">
<h3 id="fecundity">Fecundity<a class="anchor" aria-label="anchor" href="#fecundity"></a>
</h3>
<p>The fecundity (<span class="math inline">F</span>) is assumed to
scale allometrically with the weight according to the equation</p>
<p><span class="math display">F = f_\alpha \cdot W^{f_\beta}</span></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, fa <span class="op">=</span> <span class="fl">1</span>, fb <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Weight"</span>, <span class="st">"Fecundity"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-5-1.png" width="384"></p>
<p><span class="math inline">f_\alpha</span>, which is the extrapolated
eggs produced by a 1 g female, is a scaling constant with no effect on
the yield or optimal capture rate.</p>
</div>
<div class="section level3">
<h3 id="spawning">Spawning<a class="anchor" aria-label="anchor" href="#spawning"></a>
</h3>
<p>The probability of spawning at length <span class="math inline">L</span> is determined by the equation</p>
<p><span class="math display">S = \frac{L^{S_p}}{L_s^{S_p} + L^{S_p}}
\cdot es</span></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, Ls <span class="op">=</span> <span class="fl">50</span>, Sp <span class="op">=</span> <span class="fl">10</span>, es <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"Spawning"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-6-1.png" width="384"></p>
</div>
</div>
<div class="section level2">
<h2 id="death">Death<a class="anchor" aria-label="anchor" href="#death"></a>
</h2>
<div class="section level3">
<h3 id="natural-mortality">Natural Mortality<a class="anchor" aria-label="anchor" href="#natural-mortality"></a>
</h3>
<p>By default the natural annual interval mortality rate (<span class="math inline">n</span>) is assumed to be constant</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"NaturalMortality"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-7-1.png" width="384"></p>
<p>although like growth it can vary biphasically</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, nL <span class="op">=</span> <span class="fl">0.15</span>, Ln <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>, <span class="st">"Length"</span>, <span class="st">"NaturalMortality"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-8-1.png" width="384"></p>
<p>The natural mortality rate can also be affected by spawning
mortality</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, Sm <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"NaturalMortality"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-9-1.png" width="384"></p>
</div>
<div class="section level3">
<h3 id="fishing-mortality">Fishing Mortality<a class="anchor" aria-label="anchor" href="#fishing-mortality"></a>
</h3>
<p>The vulnerability to capture (<span class="math inline">V</span>) is
assumed to vary by length as follows</p>
<p><span class="math display">V = \frac{L^{V_p}}{L_v^{V_p} +
L^{V_p}}</span></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, Lv <span class="op">=</span> <span class="fl">50</span>, Vp <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"Vulnerability"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-10-1.png" width="384"></p>
<p>If <span class="math inline">V_p</span> is 100 then vulnerability is
effectively knife-edged.</p>
<p>The probabilty of being retained if captured (<span class="math inline">R</span>) depends on the release rate (<span class="math inline">\rho</span>), the slot limits (<span class="math inline">L_{lo}</span> and <span class="math inline">L_{up}</span>) and the non-compliance with the
limits (<span class="math inline">N_c</span>)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, rho <span class="op">=</span> <span class="fl">0.5</span>, Llo <span class="op">=</span> <span class="fl">40</span>, Lup <span class="op">=</span> <span class="fl">70</span>, Nc <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"Retention"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-11-1.png" width="384"></p>
<p>The fishing mortality (<span class="math inline">U</span>) depends on
<span class="math inline">V</span>, <span class="math inline">R</span>
and the probability of capture when fully vulnerable (<span class="math inline">pi</span>) as well as the hooking mortality (<span class="math inline">H_m</span>)</p>
<p><span class="math display">U =  V \cdot \pi \cdot  R +  V \cdot \pi
\cdot (1 - R) \cdot H_m</span></p>
<p>The calculation assumes that a released fish cannot be recaught in
the same year.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, pi <span class="op">=</span> <span class="fl">0.3</span>, Hm <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Length"</span>, <span class="st">"FishingMortality"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-12-1.png" width="384"></p>
</div>
</div>
<div class="section level2">
<h2 id="recruitment">Recruitment<a class="anchor" aria-label="anchor" href="#recruitment"></a>
</h2>
<p>With growth, reproduction and death defined, the final task is to
estimate the recruitment (birth) rate.</p>
<p>This requires the lifetime number of spawners per spawner at low
density (<span class="math inline">R_k</span>) and the recruitment age
(<span class="math inline">R_t</span>; by default 1) to be defined.</p>
<p>If recruitment follows a Beverton-Holt (<span class="math inline">BH
= 1</span>) curve then</p>
<p><span class="math display">R = \frac{\alpha \cdot E}{(\beta \cdot E +
1)}</span></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, Rk <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_sr.html">ypr_plot_sr</a></span><span class="op">(</span><span class="va">population</span>, plot_values <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-13-1.png" width="384"></p>
<p>where <span class="math inline">E</span> is the annual eggs (stock)
and <span class="math inline">R</span> is the annual recruits at age
<span class="math inline">R_t</span>.</p>
<p>With a Ricker curve (<span class="math inline">BH = 0</span>) the
relationship is as follows</p>
<p><span class="math display">R = \alpha \cdot E \cdot \exp (-\beta
\cdot E)</span></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ypr_population_update.html">ypr_population_update</a></span><span class="op">(</span><span class="va">population</span>, BH <span class="op">=</span> <span class="fl">0L</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ypr_plot_sr.html">ypr_plot_sr</a></span><span class="op">(</span><span class="va">population</span>, plot_values <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-14-1.png" width="384"></p>
<p>The number of recruits at the carrying capacity (<span class="math inline">R_\text{max}</span>) is a scaling constant that only
affects the estimate of the yield.</p>
<p>Before calculating the recruitment it is important to introduce the
concept of the (unfished) survivorship (<span class="math inline">lx_a</span>) which is the probability of a recruit
surviving to age <span class="math inline">a</span> in the absence of
fish mortality.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_schedule.html">ypr_plot_schedule</a></span><span class="op">(</span><span class="va">population</span>, <span class="st">"Age"</span>, <span class="st">"Survivorship"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-15-1.png" width="384"></p>
<p>The unfished survivorship (<span class="math inline">lx_a</span>) is
defined recursively by</p>
<p><span class="math display">lx_{R_t} = 1, lx_a = lx_{a-1} \cdot
(1-N_{a-1}) \;\text{for}\; a &gt; R_t</span> where <span class="math inline">N_a</span> is the annual interval natural mortality
at age <span class="math inline">a</span>.</p>
<p>And the fished survivorship (<span class="math inline">lx_a^F</span>)
is</p>
<p><span class="math display">lx_{R_t}^F = 1, lx_a^F = lx_{a-1}^F \cdot
(1 - (1 - N_{a-1}) \cdot (1 - U_{a-1})) \;\text{for}\; a &gt;
R_t</span></p>
<p>The lifetime number of eggs deposited per (unfished) recruit (<span class="math inline">\phi</span>) is then just</p>
<p><span class="math display">\phi = \sum_{a = R_t}^{t_\text{max}} lx_a
\cdot F_a/2 \cdot S_a</span> where <span class="math inline">t_\text{max}</span> is the maximum age considered
(by default 20) and <span class="math inline">F_a</span> the fecundity
at age <span class="math inline">a</span> is divided by two as the sex
ratio is assumed to 1:1 and <span class="math inline">S_a</span> is the
probability of spawning.</p>
<p>The fished equivalent is denoted <span class="math inline">\phi_F</span>.</p>
<p>It important to realize that at the unfished equilibrium the annual
number of recruits (<span class="math inline">R_0</span>) is related to
the annual egg deposition according to the following equation</p>
<p><span class="math display">E_0 = \phi \cdot R_0</span></p>
<p>By definition</p>
<p><span class="math display">\alpha = \frac{R_k \cdot R_0}{E_0} =
\frac{R_k}{\phi}</span></p>
<p>The <span class="math inline">\beta</span> term of the Beverton-Holt
curve can then be found by rearranging the following formula</p>
<p><span class="math display">R_0 = \frac{\alpha \cdot \phi \cdot
R_0}{\beta \cdot \phi \cdot R_0 + 1}</span></p>
<p><span class="math display">\beta \cdot \phi \cdot R_0 + 1 = \alpha
\cdot \phi</span></p>
<p><span class="math display">\beta = \frac{\alpha \cdot \phi - 1}{\phi
\cdot R_0}</span></p>
<p>The equivalent equation for the Ricker curve is arrived at as
follows</p>
<p><span class="math display">R_0 = \alpha \cdot \phi \cdot R_0 \cdot
\exp (-\beta \cdot \phi \cdot R_0)</span></p>
<p><span class="math display">\frac{1}{\exp (-\beta \cdot \phi \cdot
R_0)} = \alpha \cdot \phi</span></p>
<p><span class="math display">\beta \cdot \phi \cdot R_0 = \log(\alpha
\cdot \phi)</span></p>
<p><span class="math display">\beta = \frac{\log(\alpha \cdot
\phi)}{\phi \cdot R_0}</span></p>
<p>The number of recruits at the fished equilibrium (<span class="math inline">R_{0F}</span>) can then be found for the
Beverton-Holt curve as follows</p>
<p><span class="math display">R_{0F} = \frac{\alpha \cdot \phi_F \cdot
R_{0F}}{\beta \cdot \phi_F \cdot R_{0F} + 1}</span></p>
<p><span class="math display">\beta \cdot \phi_F \cdot R_{0F} + 1 =
\alpha \cdot \phi_F</span> <span class="math display">R_{0F} =
\frac{\alpha \cdot \phi_F - 1}{\beta \cdot \phi_F}</span></p>
<p>and for the Ricker</p>
<p><span class="math display">R_{0F} = \alpha \cdot \phi_F \cdot R_{0F}
\cdot \exp (-\beta \cdot \phi_F \cdot R_{0F})</span></p>
<p><span class="math display">\frac{1}{\exp(-\beta \cdot \phi_F \cdot
R_{0F})} = \alpha \cdot \phi_F</span></p>
<p><span class="math display">\beta \cdot \phi_F \cdot R_{0F} =
\log(\alpha \cdot \phi_F)</span></p>
<p><span class="math display">R_{0F} = \frac{\log(\alpha \cdot
\phi_F)}{\beta \cdot \phi_F}</span></p>
<p>Finally the estimates are rescaled so that the carrying capacity is
identical to <span class="math inline">R_\text{max}</span> through the
following transformations</p>
<p><span class="math display">    \beta = \beta \cdot \kappa /
R_\text{max} </span> <span class="math display">    R_0 = R_0 / \kappa
\cdot R_\text{max} </span> <span class="math display">    R_{0F} =
R_{0F} / \kappa \cdot R_\text{max} </span></p>
<p>where <span class="math inline">\kappa</span>, which is the carrying
capacity in the original scale, is <span class="math inline">\alpha/\beta</span> for the Beverton-Holt and <span class="math inline">\alpha/(\beta \cdot e)</span> for the Ricker
curve.</p>
</div>
<div class="section level2">
<h2 id="yield">Yield<a class="anchor" aria-label="anchor" href="#yield"></a>
</h2>
<p>When the yield is simply the number of fish caught (irrespective of
the weight or whether or not its harvested) then it is given by</p>
<p><span class="math display">Y = \sum_{a = R_t}^{t_\text{max}} R_{0F}
\cdot lx_a^F \cdot \pi \cdot V_a</span></p>
<p>if only harvested fish are considered it becomes</p>
<p><span class="math display">Y = \sum_{a = R_t}^{t_\text{max}} R_{0F}
\cdot lx_a^F \cdot \pi \cdot V_a \cdot R</span></p>
<p>and if the total weight (in kg) is important then its</p>
<p><span class="math display">Y = \sum_{a = R_t}^{t_\text{max}} R_{0F}
\cdot lx_a^F \cdot \pi \cdot V_a \cdot R \cdot W_a/1000</span></p>
<p>and if only trophy fish are to be considered then its</p>
<p><span class="math display">Y = \sum_{a = R_t}^{t_\text{max}}
\text{if}(La &lt; L_y)\ 0\ \text{else}\ R_{0F} \cdot lx_a^F \cdot \pi
\cdot V_a \cdot R \cdot W_a/1000</span> where <span class="math inline">L_y</span> is the minimum length of a trophy
fish.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_yield.html">ypr_plot_yield</a></span><span class="op">(</span><span class="va">population</span>, harvest <span class="op">=</span> <span class="cn">TRUE</span>, biomass <span class="op">=</span> <span class="cn">TRUE</span>, Ly <span class="op">=</span> <span class="fl">60</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-16-1.png" width="384"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_tabulate_yield.html">ypr_tabulate_yield</a></span><span class="op">(</span><span class="va">population</span>, harvest <span class="op">=</span> <span class="cn">TRUE</span>, biomass <span class="op">=</span> <span class="cn">TRUE</span>, Ly <span class="op">=</span> <span class="fl">60</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 8</span></span></span>
<span><span class="co">#&gt;   Type       pi     u  Yield   Age Length Weight Effort</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> actual  0.3   0.18  0.050<span style="text-decoration: underline;">5</span>  7.39   66.8  <span style="text-decoration: underline;">3</span>006.   3.39</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> optimal 0.441 0.265 0.055<span style="text-decoration: underline;">3</span>  7.35   66.7  <span style="text-decoration: underline;">2</span>978.   5.53</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="efficiency">Efficiency<a class="anchor" aria-label="anchor" href="#efficiency"></a>
</h2>
<p>The catchability <code>q</code> indicates the probability of capture
for a unit of effort (<span class="math inline">E</span>). It is assumed
to be related to <span class="math inline">\pi</span> according to the
relationship <span class="math display">\pi = 1 - \exp(\log(1-q)\cdot
E)</span> which can be rearranged to give <span class="math display">E =
\frac{\log(1-\pi)}{\log(1-q)}.</span></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_yield.html">ypr_plot_yield</a></span><span class="op">(</span><span class="va">population</span>, y <span class="op">=</span> <span class="st">"Effort"</span>, harvest <span class="op">=</span> <span class="cn">TRUE</span>, biomass <span class="op">=</span> <span class="cn">TRUE</span>, Ly <span class="op">=</span> <span class="fl">60</span><span class="op">)</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-17-1.png" width="384"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ypr_plot_yield.html">ypr_plot_yield</a></span><span class="op">(</span><span class="va">population</span>, y <span class="op">=</span> <span class="st">"YPUE"</span>, harvest <span class="op">=</span> <span class="cn">TRUE</span>, biomass <span class="op">=</span> <span class="cn">TRUE</span>, Ly <span class="op">=</span> <span class="fl">60</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 row containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_line()`).</span></span></code></pre></div>
<p><img src="ypr_files/figure-html/unnamed-chunk-18-1.png" width="384"></p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-cooper_guide_2006" class="csl-entry">
Cooper, Andrew B. 2006. <em>A Guide to Fisheries Stock Assessment: From
Data to Recommendations</em>. University of New Hampshire, Sea Grant
College Program.
</div>
<div id="ref-walters_fisheries_2004" class="csl-entry">
Walters, Carl J., and Steven J. D. Martell. 2004. <em>Fisheries
<span>Ecology</span> and <span>Management</span></em>. Princeton, N.J:
Princeton University Press.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.poissonconsulting.ca/author/joe-thorley/" class="external-link">Joe Thorley</a>, <a href="https://www.poissonconsulting.ca/" class="external-link"><img src="https://github.com/poissonconsulting.png" height="24" alt=""></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
